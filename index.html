
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Logger</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b0f12">
<link rel="icon" href="icons/icon-192.png">
<link rel="apple-touch-icon" href="icons/icon-192.png">
<link rel="stylesheet" href="styles.css">
<script>
if('serviceWorker' in navigator){
  window.addEventListener('load',()=>navigator.serviceWorker.register('./sw.js'));
}
</script>
</head>
<body>
  <div class="container">
    <div class="topbar">
      <div class="app-title">Logger</div>
      <button class="btn" id="helpBtn">Help</button>
    </div>

    <div class="tabbar">
      <button class="tab active" data-tab="dashboard">Dashboard</button>
      <button class="tab" data-tab="food">Add Food</button>
      <button class="tab" data-tab="activity">Add Activity</button>
      <button class="tab" data-tab="body">Weight & Body</button>
      <button class="tab" data-tab="notes">Notes</button>
      <button class="tab" data-tab="history">History</button>
      <button class="tab" data-tab="settings">Settings</button>
    </div>

    <!-- Dashboard -->
    <section id="dashboard" class="tabcontent">
      <div class="row">
        <div class="card">
          <h3>Today's Macros</h3>
          <div class="grid">
            <div><label>Protein</label><div class="kpi" id="kpiProtein">0 / 180 g</div></div>
            <div><label>Fat</label><div class="kpi" id="kpiFat">0 / 80 g</div></div>
            <div><label>Carbs</label><div class="kpi" id="kpiCarbs">0 / 110 g</div></div>
            <div><label>Calories</label><div class="kpi" id="kpiCalories">0 / 2000 kcal</div></div>
          </div>
          <div class="small" id="macroWarnings"></div>
        </div>
        <div class="card">
          <h3>Fasting</h3>
          <div class="small" id="fastingText">Fasting: 0:00 / 16:00</div>
          <div class="progress"><div id="fastingProgress"></div></div>
          <div class="small" id="lastMeals"></div>
        </div>
      </div>

      <div class="row">
        <div class="card">
          <h3>Activity Today</h3>
          <div class="kpi" id="kpiActivity">0 kcal burned</div>
          <div class="list" id="activitySummary"></div>
        </div>
        <div class="card">
          <h3>Weight</h3>
          <div class="kpi" id="kpiWeight">—</div>
          <div class="small" id="kpiBody">BMI — • BF% — • SM% — • Fat Mass —</div>
        </div>
      </div>

      <div class="card">
        <h3>Today's Notes</h3>
        <div id="todayNotes" class="small">—</div>
      </div>
    </section>

    <!-- Add Food -->
    <section id="food" class="tabcontent" style="display:none">
      <div class="card">
        <h3>Add Food</h3>

        <div class="searchrow">
          <input class="input" id="foodSearch" placeholder="Search preloaded & favorites (e.g., 'egg', 'rib-eye')">
          <select class="input" id="foodPick">
            <option value="">Pick from list…</option>
          </select>
          <button class="btn" id="applyPickBtn">Apply</button>
        </div>

        <div class="grid">
          <div><label>Food name</label><input class="input" id="foodName" placeholder="e.g., 3 eggs"></div>
          <div><label>Meal time</label><input class="input" id="foodTime" type="time"></div>
          <div><label>Protein (g)</label><input class="input" id="foodP" type="number" step="0.1"></div>
          <div><label>Fat (g)</label><input class="input" id="foodF" type="number" step="0.1"></div>
          <div><label>Carbs (g)</label><input class="input" id="foodC" type="number" step="0.1"></div>
          <div><label>Calories</label><input class="input" id="foodK" type="number" step="1"></div>
        </div>

        <div class="flex" style="margin-top:10px">
          <button class="btn" id="addFoodBtn">Add</button>
          <button class="btn" id="favAddBtn">★ Save to Favorites</button>
          <button class="btn" id="resetDayBtn">Reset Day</button>
        </div>

        <div style="margin-top:10px">
          <label>Favorites</label>
          <div class="favbar" id="favBar"></div>
        </div>

        <hr>
        <div class="list" id="foodList"></div>
      </div>
    </section>

    <!-- Add Activity -->
    <section id="activity" class="tabcontent" style="display:none">
      <div class="card">
        <h3>Add Activity</h3>
        <div class="grid">
          <div>
            <label>Type</label>
            <select class="input" id="actType">
              <option>Tennis (singles)</option>
              <option>Tennis (doubles)</option>
              <option>Strength training</option>
              <option>Walking</option>
              <option>Running</option>
              <option>Cycling</option>
              <option>Other</option>
            </select>
          </div>
          <div><label>Minutes</label><input class="input" id="actMin" type="number" step="1"></div>
          <div>
            <label>Intensity (1–3)</label>
            <select class="input" id="actInt">
              <option value="1">1 (easy)</option>
              <option value="2" selected>2 (moderate)</option>
              <option value="3">3 (hard)</option>
            </select>
          </div>
        </div>
        <div style="margin-top:10px"><button class="btn" id="addActBtn">Add Activity</button></div>
        <hr>
        <div class="list" id="actList"></div>
      </div>
    </section>

    <!-- Body -->
    <section id="body" class="tabcontent" style="display:none">
      <div class="card">
        <h3>Weight & Body Metrics</h3>
        <div class="grid">
          <div><label>Weight (lb)</label><input class="input" id="wWeight" type="number" step="0.1"></div>
          <div><label>Body Fat %</label><input class="input" id="wBF" type="number" step="0.1"></div>
          <div><label>Skeletal Muscle %</label><input class="input" id="wSM" type="number" step="0.1"></div>
          <div><label>Height (in)</label><input class="input" id="wHeight" type="number" step="0.1" placeholder="69"></div>
        </div>
        <div style="margin-top:10px"><button class="btn" id="saveBodyBtn">Save</button></div>
        <div style="margin-top:10px" class="small" id="bodyCalc">BMI — • Fat Mass —</div>
      </div>
    </section>

    <!-- Notes -->
    <section id="notes" class="tabcontent" style="display:none">
      <div class="card">
        <h3>Daily Notes</h3>
        <textarea class="input" id="notesText" rows="6" placeholder="Energy, sleep, digestion, training notes..."></textarea>
        <div style="margin-top:10px"><button class="btn" id="saveNotesBtn">Save Notes</button></div>
      </div>
    </section>

    <!-- History -->
    <section id="history" class="tabcontent" style="display:none">
      <div class="card">
        <h3>History</h3>
        <div class="list" id="historyList"></div>
      </div>
    </section>

    <!-- Settings -->
    <section id="settings" class="tabcontent" style="display:none">
      <div class="card">
        <h3>Settings</h3>
        <div class="grid">
          <div><label>Daily Goal: Protein (g)</label><input class="input" id="goalP" type="number" step="1" value="180"></div>
          <div><label>Daily Goal: Fat (g)</label><input class="input" id="goalF" type="number" step="1" value="80"></div>
          <div><label>Daily Goal: Carbs (g)</label><input class="input" id="goalC" type="number" step="1" value="110"></div>
          <div><label>Daily Goal: Calories</label><input class="input" id="goalK" type="number" step="10" value="2000"></div>
          <div><label>Fasting Goal (hh:mm)</label><input class="input" id="goalFast" type="time" value="16:00"></div>
        </div>
        <div style="margin-top:10px"><button class="btn" id="saveGoalsBtn">Save Goals</button></div>
      </div>

      <div class="card">
        <h3>In‑App Help</h3>
        <pre class="small" id="helpContent"></pre>
      </div>
    </section>
  </div>
  <footer>Logger • Personal Macro, Fasting, Activity & Body Tracker</footer>
  <script src="app.js"></script>
</body>
</html>
